{% extends 'base.html' %}
{% load static %}
{% load form_tags %}

{% block content %}
<div class="breadcrumb-section breadcrumb-bg">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center">
                <div class="breadcrumb-text">
                    <p>Get 24/7 Support</p>
                    <h1>Contact us</h1>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end breadcrumb section -->

<!-- contact form -->
<div class="contact-from-section mt-150 mb-150">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mb-5 mb-lg-0">
                <div class="form-title">
                    <h2>Questions? Weâ€™re Here to Help!</h2>
                    <p>Need information or support? Reach out to us anytime. We're here to ensure you have the best experience possible. Contact us via email, phone, or chat.
                        Your satisfaction is our priority!</p>
                </div>

                <!-- Display messages -->
                {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                <div class="contact-form">
                    <form method="POST" action="{% url 'contact' %}" class="needs-validation" novalidate>
                        {% csrf_token %}
                        <div>
                            {{ form.non_field_errors }}
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                {{ form.name.label_tag }}
                                {{ form.name|add_class:"form-control" }}
                                <div class="invalid-feedback">
                                    {{ form.name.errors }}
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                {{ form.email.label_tag }}
                                {{ form.email|add_class:"form-control" }}
                                <div class="invalid-feedback">
                                    {{ form.email.errors }}
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                {{ form.phone.label_tag }}
                                {{ form.phone|add_class:"form-control" }}
                                <div class="invalid-feedback">
                                    {{ form.phone.errors }}
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                {{ form.subject.label_tag }}
                                {{ form.subject|add_class:"form-control" }}
                                <div class="invalid-feedback">
                                    {{ form.subject.errors }}
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            {{ form.message.label_tag }}
                            {{ form.message|add_class:"form-control" }}
                            <div class="invalid-feedback">
                                {{ form.message.errors }}
                            </div>
                        </div>
                        <input type="hidden" name="token" value="FsWga4&@f6aw" />
                        <button type="submit" class="boxed-btn black">Submit</button>
                    </form>
                </div>

            </div>
            <div class="col-lg-4">
                <div class="contact-form-wrap">
                    <div class="contact-form-box">
                        <h4><i class="fas fa-map"></i> Shop Address</h4>
                        <p>FrutoNest Store, 456 Orchard Lane <br> Downtown Shopping Center <br> Abbottabad, Pakistan.</p>
                    </div>
                    <div class="contact-form-box">
                        <h4><i class="far fa-clock"></i> Shop Hours</h4>
                        <p>MON - FRIDAY: 8 to 9 PM <br> SAT - SUN: 10 to 8 PM </p>
                    </div>
                    <div class="contact-form-box">
                        <h4><i class="fas fa-address-book"></i> Contact</h4>
                        <p>Phone: +92 3149477077 <br> Email: uk200114@gmail.com</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end contact form -->

<!-- find our location -->
<div class="find-location blue-bg">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <p><i class="fas fa-map-marker-alt"></i> Find Our Location</p>
            </div>
        </div>
    </div>
</div>
<!-- end find our location -->

<!-- google map section -->
<div class="embed-responsive embed-responsive-21by9">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3299.958113627201!2d73.24048347482162!3d34.19854660999249!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38de304446d9297f%3A0xe744bea4e9033b92!2sCOMSATS%20University%20Islamabad%20-%20Abbottabad%20Campus!5e0!3m2!1sen!2s!4v1721401871712!5m2!1sen!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</div>

<script>
    // Example JavaScript for client-side validation
    (function() {
        'use strict';
        window.addEventListener('load', function() {
            var forms = document.getElementsByClassName('needs-validation');
            Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();

    // JavaScript to fade out messages after 4-5 seconds
    setTimeout(function() {
        var messages = document.querySelectorAll('.alert');
        messages.forEach(function(message) {
            message.classList.add('fade');
            setTimeout(function() {
                message.style.display = 'none';
            }, 500); // Adjust the timeout for a smoother transition
        });
    }, 4000); // 4000 milliseconds = 4 seconds
</script>

<style>
    .contact-form {
        background-color: #f9f9f9;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .contact-form .form-group {
        margin-bottom: 15px;
    }

    .contact-form .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
        transition: background-color 0.3s ease, border-color 0.3s ease;
    }

    .contact-form .btn-primary:hover {
        background-color: #0056b3;
        border-color: #0056b3;
    }

    .fade {
        opacity: 0;
        transition: opacity 0.5s ease;
    }

    .alert {
        opacity: 1;
        transition: opacity 0.5s ease-in-out;
    }

    .boxed-btn {
        display: inline-block;
        padding: 8px 16px; /* Smaller padding */
        font-size: 14px; /* Smaller font size */
        text-align: center;
        text-decoration: none;
        border-radius: 50px; /* Increased border-radius for rounded shape */
        border: 2px solid transparent;
        cursor: pointer;
        transition: background-color 0.3s ease, border-color 0.3s ease;
}

    .boxed-btn.black {
    background-color: #F28123;
    color: #fff;
}

    .boxed-btn.black:hover {
    background-color: #333;
    color: #F28123;
}

</style>

{% endblock %}
